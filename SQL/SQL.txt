CREATE TABLE Customers
(
  Cust_ID INT NOT NULL,
  Name VARCHAR(50) NOT NULL,
  Membership_Pts INT NOT NULL,
  Email VARCHAR(100) NOT NULL,
  Address VARCHAR(200),
  Phone_No CHAR(8),
  Password VARCHAR(10) NOT NULL,
  PRIMARY KEY (Cust_ID),
  UNIQUE (Email)
);

CREATE TABLE Movie
(
  Movie_Title VARCHAR(50) NOT NULL,
  Movie_ID INT NOT NULL,
  Ratings INT,
  Description_ VARCHAR(800),
  Release_Date_ DATE NOT NULL,
  PRIMARY KEY (Movie_ID)
);

CREATE TABLE Actor_
(
  Actor_Name VARCHAR(50) NOT NULL,
  Age INT,
  Description VARCHAR(800),
  Actor_ID_ INT NOT NULL,
  PRIMARY KEY (Actor_ID_)
);

CREATE TABLE Genre
(
  Genre_ID INT NOT NULL,
  Genre_Name VARCHAR(50) NOT NULL,
  Description VARCHAR(600) NOT NULL,
  PRIMARY KEY (Genre_ID)
);

CREATE TABLE Cinemas
(
  Name VARCHAR(50) NOT NULL,
  Descriptions_ VARCHAR(800) NOT NULL,
  Cinema_ID INT NOT NULL,
  PRIMARY KEY (Cinema_ID)
);

CREATE TABLE Hall
(
  Capacity INT NOT NULL,
  Hall_ID INT NOT NULL,
  Type VARCHAR(100) NOT NULL,
  Cinema_ID INT NOT NULL,
  PRIMARY KEY (Hall_ID),
  FOREIGN KEY (Cinema_ID) REFERENCES Cinemas(Cinema_ID)
);

CREATE TABLE Seat
(
  SeatNo INT NOT NULL,
  Hall_ID INT NOT NULL,
  PRIMARY KEY (SeatNo),
  FOREIGN KEY (Hall_ID) REFERENCES Hall(Hall_ID)
);

CREATE TABLE Acts_In
(
  Movie_ID INT NOT NULL,
  Actor_ID_ INT NOT NULL,
  PRIMARY KEY (Movie_ID, Actor_ID_),
  FOREIGN KEY (Movie_ID) REFERENCES Movie(Movie_ID),
  FOREIGN KEY (Actor_ID_) REFERENCES Actor_(Actor_ID_)
);

CREATE TABLE has
(
  Movie_ID INT NOT NULL,
  Genre_ID INT NOT NULL,
  PRIMARY KEY (Movie_ID, Genre_ID),
  FOREIGN KEY (Movie_ID) REFERENCES Movie(Movie_ID),
  FOREIGN KEY (Genre_ID) REFERENCES Genre(Genre_ID)
);

CREATE TABLE Rate
(
  Comments VARCHAR(800) NOT NULL,
  Rating_Number INT NOT NULL,
  Date DATE NOT NULL,
  Time NUMERIC(Time) NOT NULL,
  Cust_ID INT NOT NULL,
  Movie_ID INT NOT NULL,
  PRIMARY KEY (Date, Time, Cust_ID),
  FOREIGN KEY (Cust_ID) REFERENCES Customers(Cust_ID),
  FOREIGN KEY (Movie_ID) REFERENCES Movie(Movie_ID),
  UNIQUE (Cust_ID, Movie_ID)
);

CREATE TABLE M_Tickets
(
  Ticket_ID INT NOT NULL,
  Time_Slot NUMERIC(Time) NOT NULL,
  Show_Date DATE NOT NULL,
  Price FLOAT NOT NULL,
  Hall_ID INT NOT NULL,
  Cust_ID INT NOT NULL,
  Movie_ID INT NOT NULL,
  PRIMARY KEY (Ticket_ID),
  FOREIGN KEY (Hall_ID) REFERENCES Hall(Hall_ID),
  FOREIGN KEY (Cust_ID) REFERENCES Customers(Cust_ID),
  FOREIGN KEY (Movie_ID) REFERENCES Movie(Movie_ID)
);